<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link  rel="stylesheet" href="css/login.css">
  
  <title>로그인화면</title>
</head>
<body>
  <div id="container" class="container">
    <!-- FORM SECTION -->
    <div class="row">
      <!-- SIGN UP -->
      <div class="col align-items-center flex-col sign-up">
        <div class="form-wrapper align-items-center">
          <div class="form sign-up">
            <div class="input-group">
              <i class='bx bxs-user'></i>
              <input type="text" placeholder="Username" id="userName">
            </div>
            <div class="input-group">
              <i class='bx bx-mail-send'></i>
              <input type="email" placeholder="ID" id="id" >
            </div>
            <div class="input-group">
              <i class='bx bxs-lock-alt'></i>
              <input type="password" placeholder="Password" id="userPw1">
            </div>

              <button id="signupBtn">
              Sign up
            </button>
            <p>
              <span>
                Already have an account?
              </span>
              <b onclick="toggle()" class="pointer">
                Sign in here
              </b>
            </p>
          </div>
        </div>
      
      </div>
      <!-- END SIGN UP -->
      <!-- SIGN IN -->
      <div class="col align-items-center flex-col sign-in">
        <div class="form-wrapper align-items-center">
          <div class="form sign-in">
            <div class="input-group">
              <i class='bx bxs-user'></i>
              <input type="text" placeholder="ID" id="loginId">
            </div>
            <div class="input-group">
              <i class='bx bxs-lock-alt'></i>
              <input type="password" placeholder="Password" id="password">
            </div>
            <button id="loginBtn">
             Sign in
            </button>
            <p>
              <b>
                Forgot password?
              </b>
            </p>
            <p>
              <span>
                Don't have an account?
              </span>
              <b onclick="toggle()" class="pointer">
                Sign up here
              </b>
            </p>
          </div>
        </div>
        <div class="form-wrapper">
    
        </div>
      </div>
      <!-- END SIGN IN -->
    </div>
    <!-- END FORM SECTION -->
    <!-- CONTENT SECTION -->
    <div class="row content-row">
      <!-- SIGN IN CONTENT -->
      <div class="col align-items-center flex-col">
        <div class="text sign-in">
          <h2>
            Welcome
          </h2>
  
        </div>
        <div class="img sign-in">
    
        </div>
      </div>
      <!-- END SIGN IN CONTENT -->
      <!-- SIGN UP CONTENT -->
      <div class="col align-items-center flex-col">
        <div class="img sign-up">
        
        </div>
        <div class="text sign-up">
          <h2>
            Join with us
          </h2>
  
        </div>
      </div>
      <!-- END SIGN UP CONTENT -->
    </div>
    <!-- END CONTENT SECTION -->
  </div>
</body>
<script src="js/init.js"></script>
<script src="js/login.js"></script>
<script>
  let members = JSON.parse(localStorage.getItem('memberData'));   
  console.log(members);           
  document.getElementById("loginBtn").addEventListener('click', function(e){
    e.preventDefault();
    let id = document.querySelector('#loginId').value;
    let pw = document.querySelector('#password').value;
    console.log(id)
     console.log(members);
      for(let i = 0; i <members.length; i++) {
        if(members[i].id == id && members[i].pw == pw) {
          alert('환영합니다!!');
          location.href='index.html'
          return;
        }
      }
      alert('아이디와 비밀번호를 확인하세요');
    });

    document.getElementById("signupBtn").addEventListener('click', function(e){
      e.preventDefault();
      let userName = document.querySelector('#userName').value;
      let id = document.querySelector('#id').value;
      let passWord = document.querySelector('#userPw1').value;
      let info = {id: id, pw:passWord, name: userName, responsibility: 'User'};
      members.push(info);
      alert('등록이 완료되었습니다');
      localStorage.setItem('memberData', JSON.stringify(members));       

  });

</script>
</html>